<!DOCTYPE html>
<head>
<meta charset="UTF-8" />
<title>Modifica Piatto</title>
</head>
<body>
	<form th:action="@{/dish/modify}" method="post" th:object="${dish}" enctype="multipart/form-data">
		<input type="hidden" th:field="*{id}">
		<input type="hidden" th:field="*{buffet}">
		<input type="hidden" th:field="*{img}">
		<input type="hidden" th:field="*{ingradients}">
		
		<div th:if="${dish.img != null}" >
			<img th:src="@{'/images/' + ${dish.getDirectoryName()} + '/' + ${dish.img}}"></img>
			<a th:href="@{'/dish/delete/' + *{id} +'/' + ${dish.img}}" >Rimuovi</a>
		</div>
		<div>Nome: <input type="text" th:field="*{name}"></div>
		<div><span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span></div>
		<div>Descrizione: <input type="text" th:field="*{description}"></div>
		<div><span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span></div>
		<div>Immagine: <input type="file" name="file"></div>
		<div><button type="submit">Conferma</button></div>
	</form>
</body>
</html>